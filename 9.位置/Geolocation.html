<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src="../jquery-3.1.0.min.js"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=8Vm7IiABSq1xug8gUlhK79tlIcRIbis6"></script>
</head>
<body>
<div id="out"></div>
<script>
    function geoFindMe() {
        var output = document.getElementById("out");

        if (!navigator.geolocation){
            output.innerHTML = "<p>您的浏览器不支持地理位置</p>";
            return;
        }

        function success(position) {
            var latitude  = position.coords.latitude;
            var longitude = position.coords.longitude;

            output.innerHTML = '<p>Latitude is ' + latitude + '° <br>Longitude is ' + longitude + '°</p>';

            var img = new Image();
            img.src = "http://maps.googleapis.com/maps/api/staticmap?center=" + latitude + "," + longitude + "&zoom=13&size=300x300&sensor=false";

            output.appendChild(img);
        }

        function error() {
            output.innerHTML = "无法获取您的位置";
        }

        output.innerHTML = "<p>Locating…</p>";

        navigator.geolocation.getCurrentPosition(success, error);
    }
    geoFindMe()

</script>
<script type="text/javascript" src="http://webapi.amap.com/maps?v=1.3&key=92113fd7dfff59ee0167f0f049b1a097"></script>

</body>
</html>
